<!DOCTYPE HTML>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <title>Urbino</title>
  <!-- blueprint CSS framework -->
  <link rel="stylesheet" type="text/css" href="css/screen.css" media="screen, projection" />
  <link rel="stylesheet" type="text/css" href="css/print.css" media="print" />
  <!--[if lt IE 8]>
  <link rel="stylesheet" type="text/css" href="css/ie.css" media="screen, projection" />
  <![endif]-->
  
  <link rel='stylesheet' type='text/css' href="components/css/components.css" />
  <link rel='stylesheet' type='text/css' href="components/css/slidingLabel.css" />
  <link rel='stylesheet' type='text/css' href="components/css/propretiesPanel.css" />
  <link rel='stylesheet' type='text/css' href="components/css/TabPanel.css" />
  <link rel='stylesheet' type='text/css' href="components/css/editorCanvas.css"  />
  <link rel='stylesheet' type='text/css' href="components/css/ElementsPanel.css"  />
  <link rel='stylesheet' type='text/css' href="components/css/TimePanel.css"  />
  <link rel='stylesheet' type='text/css' href="core/mooRainbow.css"  />

  <script type="text/javascript" src="core/mootools-core-full-compat.js"></script>
  <script type="text/javascript" src="core/mootools-more-1.4.0.1.js"></script>
  <script type="text/javascript" src="core/mooRainbow.js"></script>  
  <script type="text/javascript" src="core/raphael-min.js"></script>
  <script type="text/javascript" src="external/raphael.free_transform.js"></script>
  <script type="text/javascript" src="components/js/raphael.pathManager.js"></script>
  <script type="text/javascript" src="components/js/TabPanel.js"></script>
  <script type="text/javascript" src="components/js/slidingLabel.js"></script>
  <script type="text/javascript" src="components/js/PropretiesPanel.js"></script>
  <script type="text/javascript" src="components/js/ToolPanel.js"></script>
  <script type="text/javascript" src="components/js/ElementsPanel.js"></script>
  <script type="text/javascript" src="components/js/TimePanel.js"></script>
  
  <script type="text/javascript" src="core/main.js"></script>
 
</head>
 
<body>

<div id="menu" ></div>
<div id="tools" class="tools"></div>
<div id="canvas" ></div>
<div id="side" ></div>
<div id="timeline"></div>
â€‹
<script>
	/*global $,$$,console,Class,Element,typeOf,window,R, Raphael,MooRainbow,TabPanel,TimePanel, PropretiesPanel,ElementsPanel,ToolPanel*/
	var r = Raphael("canvas", "100%", "100%"),
	selected,
	canvas = new TabPanel("canvas", {
		x:60,
		y:50,
		width:840,
		height:500,
		tabs:{
			canvas:{R:r ,panel:r.canvas}
			}
	}),
	toolpanel = new ToolPanel("tools", r),
	ep = new ElementsPanel(r,{imgSrc:"img"}),
	pp = new PropretiesPanel(),
	tp = new TimePanel(r,{imgSrc:"img"}),
	side = new TabPanel("side", {
		x:1000,
		y:50,
		width:300,
		height:500,
		tabs:{
			"Propreties":pp,
			"Elements":ep
		}
	}),
	timeline = new TabPanel("timeline", {
		x:0,
		y:560,
		width:1020,
		height:220,
		tabs:{
			"Timeline":tp
		}
	}),
	fill = new MooRainbow('input[name=fill]', {
		id: 'fill',
		imgPath: 'img/',
		'onChange': function(color) {
			$$('input[name=fill]')[0].set("value", color.hex);
			if(pp.selected){
				window.fireEvent("element.update", [{"fill":color.hex}]);
			}else {
				toolpanel.setAttr({"fill":color.hex});
				pp.attrs = toolpanel.getAttr();
			}
		}
	}),
	stroke = new MooRainbow('input[name=stroke]', {
		id: 'stroke',
		imgPath: 'img/',
		startcolor:[],
		'onChange': function(color) {
			$$('input[name=stroke]')[0].set("value", color.hex);
			if(pp.selected){
				window.fireEvent("element.update", [{"stroke":color.hex}]);
			} else {
				toolpanel.setAttr({"stroke":color.hex});
				pp.attrs = toolpanel.getAttr();
			}
				
		}
	});
</script>
</body>
</html>